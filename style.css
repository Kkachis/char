:root{
  --navy:#0a1128;
  --gold:#c5a059;
  --paper:#fdfaf3;
  --shadow:rgba(0,0,0,0.45);

  --theme-color:#8b0000;

  --glass: rgba(10,17,40,0.55);
  --glass-strong: rgba(10,17,40,0.72);
  --line: rgba(197,160,89,0.18);

  --radius: 18px;
}

*{ box-sizing:border-box; margin:0; padding:0; }

html, body{ height:100%; }

body{
  font-family:'Noto Sans KR', sans-serif;
  color:#eee;
  min-height:100vh;
  background:#070b14;
  overflow-x:hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== 배경 ===== */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(1200px 700px at 50% 15%, rgba(197,160,89,0.12), rgba(0,0,0,0) 60%),
    linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.80)),
    url("b (7).png") center/cover no-repeat;
  filter:saturate(1.05) contrast(1.05);
  z-index:-2;
}
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(900px 500px at 15% 20%, rgba(106,13,173,0.10), rgba(0,0,0,0) 55%),
    radial-gradient(900px 500px at 85% 25%, rgba(0,86,179,0.10), rgba(0,0,0,0) 55%);
  z-index:-1;
}

/* ===== 상단바 ===== */
.topbar{
  position:sticky;
  top:0;
  z-index:60;
  background:linear-gradient(90deg, rgba(10,17,40,0.92), rgba(10,17,40,0.62));
  border-bottom:1px solid rgba(197,160,89,0.25);
  backdrop-filter: blur(10px);
}

.nav-inner{
  max-width:1400px;
  margin:0 auto;
  padding:14px 18px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  min-width: 260px;
}
.brand-logo{
  width:44px;
  height:44px;
  object-fit:contain;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,0.35));
}
.brand-text{ display:flex; flex-direction:column; gap:2px; }
.brand-mark{
  font-family:'Cinzel', serif;
  font-weight:900;
  letter-spacing:6px;
  color:var(--gold);
  font-size:18px;
  line-height:1;
}
.brand-sub{
  opacity:0.78;
  font-size:12px;
  letter-spacing:0.3px;
}

.nav-right{ display:flex; gap:10px; align-items:center; }
.nav-pill{
  padding:9px 12px;
  border-radius:999px;
  background:rgba(0,0,0,0.22);
  border:1px solid rgba(197,160,89,0.22);
  font-family:'Cinzel', serif;
  letter-spacing:1.5px;
  font-size:11px;
  color:#f1e6cf;
  box-shadow: 0 18px 40px rgba(0,0,0,0.28);
}

/* ===== 메인 ===== */
.stage{
  max-width:1400px;
  margin:0 auto;
  padding:18px 18px 46px;
}

/* ===== 히어로 ===== */
.hero{
  position:relative;
  margin:18px auto 22px;
  border-radius: var(--radius);
  overflow:hidden;
  border:1px solid rgba(197,160,89,0.18);
  background: linear-gradient(180deg, rgba(10,17,40,0.70), rgba(10,17,40,0.35));
  box-shadow: 0 22px 70px rgba(0,0,0,0.45);
}

.hero-inner{
  position:relative;
  padding:26px 22px;
  z-index:2;
}
.hero-kicker{
  font-family:'Cinzel', serif;
  letter-spacing:3px;
  font-size:12px;
  color: rgba(197,160,89,0.90);
}
.hero-title{
  margin-top:8px;
  font-family:'Cinzel', serif;
  font-size:28px;
  letter-spacing:2px;
  color:#fff;
  text-shadow: 0 18px 40px rgba(0,0,0,0.35);
}
.hero-desc{
  margin-top:10px;
  opacity:0.86;
  font-size:13px;
  line-height:1.45;
  max-width: 720px;
}


.hero-glow{
  position:absolute;
  inset:-40px;
  background:
    radial-gradient(600px 220px at 18% 20%, rgba(197,160,89,0.22), rgba(0,0,0,0) 55%),
    radial-gradient(600px 220px at 82% 20%, rgba(0,86,179,0.18), rgba(0,0,0,0) 55%);
  z-index:0;
}
/* ====== 그리드: 모바일 1열 / PC 2열 ====== */
.cert-grid{
  display:grid;
  gap:18px;
  align-items:start;
  grid-template-columns: 1fr; /* 기본 1열 */
}

@media (min-width: 900px){
  .cert-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (min-width: 1400px){
  .cert-grid{
    max-width: 1240px;
    margin: 0 auto;
  }
}

/* 카드 래퍼 */
.cert-card{
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding:14px;
  border-radius:16px;
  background: var(--glass);
  border:1px solid var(--line);
  box-shadow:0 18px 60px rgba(0,0,0,0.45);
  overflow:hidden;
  transition: transform .18s ease, background .18s ease;

  /* 성능 */
  content-visibility: auto;
  contain: layout paint;
  contain-intrinsic-size: 520px 760px;
}
.cert-card:hover{
  transform: translateY(-2px);
  background: var(--glass-strong);
}

/* ✅ “calc 나눗셈” 금지: 브라우저에서 무효 처리되기 쉬움
   → 브레이크포인트로 안전하게 스케일 고정 */
.cert-card{ --scale: 0.58; }              /* 기본(모바일 중간) */
@media (max-width: 420px){ .cert-card{ --scale: 0.45; } }  /* 작은 폰 */
@media (min-width: 421px) and (max-width: 600px){ .cert-card{ --scale: 0.52; } }
@media (min-width: 601px) and (max-width: 899px){ .cert-card{ --scale: 0.62; } }
@media (min-width: 900px){ .cert-card{ --scale: 0.62; } } /* PC 2열 */

.cert-scaler{
  width: calc(800px * var(--scale));
  height: calc(1130px * var(--scale));
  display:flex;
  justify-content:center;
  align-items:flex-start;
}

.cert-render{
  width: 800px;
  height: 1130px;
  transform: scale(var(--scale));
  transform-origin: top center;
  will-change: transform;
}

@media (max-width: 520px){
  .stage{ padding-left:10px; padding-right:10px; }
  .cert-card{ padding:10px; border-radius:14px; }
  .brand-sub{ display:none; }
  .hero-title{ font-size:22px; }
}

/* ===== 증명서 본체 ===== */
.cert-area{
  width:800px;
  height:1130px;
  background:var(--paper);
  position:relative;
  cursor:pointer;
  transform-style:preserve-3d;
  transition: transform 0.8s cubic-bezier(0.4,0,0.2,1);
  user-select:none;
}
.cert-area.flipped{ transform: rotateY(180deg); }

.cert-front, .cert-back{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
  padding:30px;
  background:var(--paper);
}
.cert-back{
  transform:rotateY(180deg);
  display:flex;
  flex-direction:column;
}

/* 테마(tag) */
.theme-magic{ --theme-color:#6a0dad; }
.theme-combat{ --theme-color:#8b0000; }
.theme-science{ --theme-color:#0056b3; }
.theme-medicine{ --theme-color:#1b4d3e; }

/* 역할(role) 프레임 */
.role-student { --frame-color: var(--theme-color); }
.role-professor { --frame-color: #d4af37; }

.cert-border-outer{
  border:5px double var(--frame-color);
  height:100%;
  padding:8px;
}

.cert-border-inner{
  position:relative;
  height:100%;
  border-radius:18px;
  border:1px solid rgba(197,160,89,0.55);
  padding:26px 36px 30px;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.cert-header{ text-align:center; margin-bottom:12px; }
.cert-logo-text{
  font-family:'Cinzel', serif;
  font-weight:900;
  color:var(--theme-color);
  letter-spacing:8px;
  font-size:2.2rem;
  line-height:1;
}
.cert-header h1{
  font-family:'Cinzel', serif;
  font-size:1.8rem;
  color:var(--navy);
  letter-spacing:4px;
  margin-top:10px;
}
.cert-sub{
  font-family:'Cinzel', serif;
  color:var(--theme-color);
  font-size:0.9rem;
  opacity:0.9;
}

/* ✅ FRONT 겹침 방지: 무조건 GRID 2열 */
.cert-front .cert-body{
  flex:1;
  min-height:0;
  overflow:hidden;

  display:grid;
  grid-template-columns: 340px minmax(0, 1fr);
  gap:24px;
  align-items:center;
}

/* 사진 */
.photo-area{
  width:340px;
  height:560px;
  border-radius:12px;
  overflow:hidden;
  border:2px solid rgba(197,160,89,0.6);
  box-shadow:0 14px 30px rgba(0,0,0,0.30);
  background:#fff;
}
.photo-area img{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position: 50% 25%;
  display:block;
}

/* 정보 */
.info-area{
  min-width:0;
  overflow:hidden;
  text-align:left;
}

.statement{
  font-size:0.95rem;
  line-height:1.38;
  margin-bottom:14px;
  color:var(--navy);

  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:3;
  overflow:hidden;
}

.info-row{
  display:flex;
  align-items:center;
  gap:12px;
  padding:10px 0;
  border-bottom:1px solid rgba(0,0,0,0.12);
  font-size:1.02rem;
}

.label{
  width:86px;
  font-family:'Cinzel', serif;
  font-weight:800;
  letter-spacing:1px;
  color:var(--theme-color);
  flex:0 0 auto;
  text-align:left;
}

.value{
  flex:1;
  min-width:0;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  color:var(--navy);
  font-weight:800;
  text-align:left;
  padding-left:10px;
}
.cert-footer{
  margin-top:auto;
  padding-top:14px;
  border-top:1px solid rgba(0,0,0,0.10);
  text-align:center;
}
.issue-date{ font-size:0.9rem; color:#666; margin-bottom:14px; }

.seal-area{
  position:relative;
  display:inline-flex;
  align-items:center;
}

.signer{
  font-family:'Cinzel', serif;
  font-size:1.35rem;
  font-weight:900;
  color:var(--navy);
}

.wax-seal{
  width:56px;
  height:auto;
  margin-left:-16px;
  opacity:0.92;
  transform:rotate(-5deg);
}
.wax-seal img{
  width:100%;
  height:auto;
  display:block;
}

/* ===== 뒤면 ===== */
.cert-back .cert-body{
  flex:1;
  min-height:0;
  overflow:hidden;

  display:flex;
  flex-direction:column;
  align-items:center;
  gap:18px;
  padding:8px 0;
}

.private-photo-area{
  width:340px;
  height:560px;
  border-radius:12px;
  overflow:hidden;
  border:2px solid rgba(197,160,89,0.6);
  box-shadow:0 14px 30px rgba(0,0,0,0.30);
  background:#fff;
}
.private-photo-area img{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:50% 25%;
  display:block;
}

.profile-data-box{
  width:480px;
  max-width:100%;
  background:rgba(255,255,255,0.75);
  border:1px solid rgba(0,0,0,0.10);
  padding:18px;
  border-radius:10px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
  overflow:hidden;
}

.data-field{
  text-align:left;
  border-bottom:1px solid rgba(0,0,0,0.08);
  padding-bottom:6px;
  min-width:0;
}
.data-field.full-width{ grid-column:span 2; }

.data-tag{
  display:block;
  font-size:0.75rem;
  color:var(--theme-color);
  font-family:'Cinzel', serif;
  font-weight:900;
  margin-bottom:4px;
  letter-spacing:1px;
}
.data-text{
  font-size:1.05rem;
  font-weight:900;
  color:#111;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

.stats-display .gauge-wrap{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:8px;
}
.stats-display .gauge-wrap span{
  font-family:'Cinzel', serif;
  font-size:0.75rem;
  width:38px;
  color:#333;
  flex:0 0 auto;
}
.bar{
  flex:1;
  height:10px;
  background:#ddd;
  border-radius:6px;
  overflow:hidden;
}
.bar > div{
  height:100%;
  background:var(--theme-color);
}

/* ===== footer ===== */
.footer{
  margin-top:22px;
  border-top:1px solid rgba(255,255,255,0.10);
  padding:16px 0 0;
}
.footer-inner{
  display:flex;
  gap:10px;
  justify-content:center;
  opacity:0.78;
  font-size:12px;
}
.footer-dot{ opacity:0.6; }

/* 모바일: 1열 고정 + 좌우 여백 최소 */
@media (max-width: 899px){
  .cert-grid{
    grid-template-columns: 1fr !important;
    gap:14px;
  }
  .cert-card{
    width:100%;
    max-width:100%;
    padding:10px;
  }
}
